{
    "sourceFile": "src/main/java/com/mygg/GameCanvas.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1764381934450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764382023574,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,72 @@\n package com.mygg;\r\n \r\n-public class GameCanvas {\r\n-    \r\n+import javafx.animation.AnimationTimer;\r\n+import javafx.scene.canvas.Canvas;\r\n+import javafx.scene.canvas.GraphicsContext;\r\n+import javafx.scene.image.Image;\r\n+\r\n+public class GameCanvas extends Canvas {\r\n+\r\n+    private final Player player;\r\n+    private final InputHandler input;\r\n+    private long last = System.nanoTime();\r\n+\r\n+    public GameCanvas(Player player, InputHandler input) {\r\n+        super(800, 600);\r\n+        this.player = player;\r\n+        this.input = input;\r\n+\r\n+        new AnimationTimer() {\r\n+            @Override\r\n+            public void handle(long now) {\r\n+                double dt = (now - last) / 1e9;\r\n+                last = now;\r\n+\r\n+                update(dt);\r\n+                draw();\r\n+            }\r\n+        }.start();\r\n+    }\r\n+\r\n+    private void update(double dt) {\r\n+\r\n+        boolean move = false;\r\n+\r\n+        if (input.up) {\r\n+            player.y -= player.speed * dt;\r\n+            player.dir = Player.Direction.UP;\r\n+            move = true;\r\n+        }\r\n+        if (input.down) {\r\n+            player.y += player.speed * dt;\r\n+            player.dir = Player.Direction.DOWN;\r\n+            move = true;\r\n+        }\r\n+        if (input.left) {\r\n+            player.x -= player.speed * dt;\r\n+            player.dir = Player.Direction.LEFT;\r\n+            move = true;\r\n+        }\r\n+        if (input.right) {\r\n+            player.x += player.speed * dt;\r\n+            player.dir = Player.Direction.RIGHT;\r\n+            move = true;\r\n+        }\r\n+\r\n+        if (input.place) {\r\n+            player.state = Player.State.PLACE;\r\n+        } else {\r\n+            player.state = move ? Player.State.WALK : Player.State.IDLE;\r\n+        }\r\n+    }\r\n+\r\n+    private void draw() {\r\n+        GraphicsContext g = getGraphicsContext2D();\r\n+\r\n+        g.clearRect(0, 0, getWidth(), getHeight());\r\n+\r\n+        Image frame = player.update(1 / 60.0);\r\n+\r\n+        g.drawImage(frame, player.x, player.y);\r\n+    }\r\n }\r\n"
                },
                {
                    "date": 1764385462419,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,8 @@\n package com.mygg;\r\n \r\n+import com.mygg.entities.Player;\r\n+\r\n import javafx.animation.AnimationTimer;\r\n import javafx.scene.canvas.Canvas;\r\n import javafx.scene.canvas.GraphicsContext;\r\n import javafx.scene.image.Image;\r\n"
                },
                {
                    "date": 1764385505407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n package com.mygg;\r\n \r\n+import com.mygg.core.InputHandler;\r\n import com.mygg.entities.Player;\r\n \r\n import javafx.animation.AnimationTimer;\r\n import javafx.scene.canvas.Canvas;\r\n"
                }
            ],
            "date": 1764381934450,
            "name": "Commit-0",
            "content": "package com.mygg;\r\n\r\npublic class GameCanvas {\r\n    \r\n}\r\n"
        }
    ]
}