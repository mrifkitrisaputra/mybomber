{
    "sourceFile": "src/main/java/com/mygg/entities/Explosion.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1764544502873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764546292576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,26 +7,24 @@\n import javafx.scene.image.Image;\r\n \r\n public class Explosion {\r\n     private final int centerX, centerY;\r\n-    private float duration = 0.8f; // Lama ledakan muncul di layar (detik)\r\n+    private float duration = 0.8f; \r\n     public boolean isFinished = false;\r\n \r\n-    // Arah ledakan (Kanan, Kiri, Bawah, Atas)\r\n-    // Disimpan dalam list Point (x, y, type)\r\n     private final List<ExplosionPart> parts = new ArrayList<>();\r\n \r\n     // Assets\r\n     private final Image centerImg;\r\n-    private final Image[] hAnimation; // Horizontal\r\n-    private final Image[] vAnimation; // Vertical\r\n+    private final Image[] hAnimation; \r\n+    private final Image[] vAnimation; \r\n \r\n     private float animTimer = 0;\r\n     private int frameIndex = 0;\r\n-    private final int totalFrames = 4; // Karena ada e_horizontal1 s/d 4\r\n+    private final int totalFrames = 4; \r\n     private final int tileSize = 32;\r\n \r\n-    // Inner class untuk menyimpan bagian-bagian api\r\n+    // Record untuk simpan koordinat api\r\n     private record ExplosionPart(int x, int y, boolean isVertical) {}\r\n \r\n     public Explosion(int startX, int startY, int range, int[][] map) {\r\n         this.centerX = startX;\r\n@@ -41,84 +39,86 @@\n             hAnimation[i] = new Image(getClass().getResourceAsStream(\"/com/mygg/assets/explosion/e_horizontal\" + (i+1) + \".png\"), tileSize, tileSize, false, false);\r\n             vAnimation[i] = new Image(getClass().getResourceAsStream(\"/com/mygg/assets/explosion/e_vertical\" + (i+1) + \".png\"), tileSize, tileSize, false, false);\r\n         }\r\n \r\n-        // --- KALKULASI LOGIC LEDAKAN ---\r\n+        // Kalkulasi Sebaran Api saat object dibuat\r\n         calculateSpread(map, range);\r\n     }\r\n \r\n     private void calculateSpread(int[][] map, int range) {\r\n-        int w = map.length;\r\n-        int h = map[0].length;\r\n-\r\n-        // 1. Cek Arah KANAN\r\n+        // Logika Loop: Jika checkTile return FALSE (mentok), loop langsung BREAK.\r\n+        \r\n+        // 1. KANAN\r\n         for (int i = 1; i <= range; i++) {\r\n             if (!checkTile(centerX + i, centerY, map, false)) break;\r\n         }\r\n-        // 2. Cek Arah KIRI\r\n+        // 2. KIRI\r\n         for (int i = 1; i <= range; i++) {\r\n             if (!checkTile(centerX - i, centerY, map, false)) break;\r\n         }\r\n-        // 3. Cek Arah BAWAH\r\n+        // 3. BAWAH\r\n         for (int i = 1; i <= range; i++) {\r\n             if (!checkTile(centerX, centerY + i, map, true)) break;\r\n         }\r\n-        // 4. Cek Arah ATAS\r\n+        // 4. ATAS\r\n         for (int i = 1; i <= range; i++) {\r\n             if (!checkTile(centerX, centerY - i, map, true)) break;\r\n         }\r\n     }\r\n \r\n     /**\r\n-     * @return true jika api masih bisa lanjut, false jika mentok\r\n+     * Logic inti:\r\n+     * - Return TRUE: Api lanjut ke tile berikutnya (Ground).\r\n+     * - Return FALSE: Api berhenti (Tembok Keras atau Tembok Hancur).\r\n      */\r\n     private boolean checkTile(int x, int y, int[][] map, boolean isVertical) {\r\n         // Boundary Check\r\n         if (x < 0 || y < 0 || x >= map.length || y >= map[0].length) return false;\r\n \r\n         int tileType = map[x][y];\r\n \r\n+        // 1. KENA TEMBOK KERAS (Unbreakable)\r\n         if (tileType == 1) {\r\n-            // Tembok Keras (Unbreakable) -> Api Berhenti TOTAL, tidak digambar di sini\r\n-            return false;\r\n+            return false; // Api berhenti, TIDAK digambar\r\n         } \r\n         \r\n+        // 2. KENA TEMBOK HANCUR (Breakable)\r\n         if (tileType == 2) {\r\n-            // Tembok Hancur (Breakable) -> Hancurkan blok, gambar api, lalu STOP\r\n-            map[x][y] = 0; // Ubah jadi Ground\r\n+            map[x][y] = 0; // Hancurkan tembok (jadi Ground)\r\n+            parts.add(new ExplosionPart(x, y, isVertical)); // Gambar api di sini\r\n+            return false; // PENTING: Return false agar loop berhenti (tidak tembus ke belakangnya)\r\n+        }\r\n+\r\n+        // 3. TANAH KOSONG (Ground)\r\n+        if (tileType == 0) {\r\n             parts.add(new ExplosionPart(x, y, isVertical));\r\n-            return false; // Api tidak tembus ke belakang tembok ini\r\n+            return true; // Lanjut ke tile berikutnya\r\n         }\r\n \r\n-        // Ground (0) -> Gambar api, Lanjut\r\n-        parts.add(new ExplosionPart(x, y, isVertical));\r\n-        return true;\r\n+        return false;\r\n     }\r\n \r\n     public void update(double dt) {\r\n         duration -= dt;\r\n-        \r\n-        // Animasi (Frame 0 -> 1 -> 2 -> 3)\r\n-        // Kita bagi durasi total dengan jumlah frame\r\n         float timePerFrame = 0.8f / totalFrames; \r\n         animTimer += dt;\r\n         \r\n         if (animTimer >= timePerFrame) {\r\n             animTimer = 0;\r\n             frameIndex++;\r\n-            if (frameIndex >= totalFrames) frameIndex = totalFrames - 1; // Stay di frame terakhir\r\n+            if (frameIndex >= totalFrames) frameIndex = totalFrames - 1; \r\n         }\r\n \r\n         if (duration <= 0) {\r\n             isFinished = true;\r\n         }\r\n     }\r\n \r\n     public void render(GraphicsContext g) {\r\n-        // 1. Render Pusat Ledakan\r\n+        // Render Pusat\r\n         g.drawImage(centerImg, centerX * tileSize, centerY * tileSize);\r\n \r\n-        // 2. Render Bagian-Bagian Api (Horizontal & Vertikal)\r\n+        // Render Bagian Api\r\n         for (ExplosionPart part : parts) {\r\n             Image sprite = part.isVertical ? vAnimation[frameIndex] : hAnimation[frameIndex];\r\n             g.drawImage(sprite, part.x * tileSize, part.y * tileSize);\r\n         }\r\n"
                }
            ],
            "date": 1764544502873,
            "name": "Commit-0",
            "content": "package com.mygg.entities;\r\n\r\npublic class Explosion {\r\n    \r\n}\r\n"
        }
    ]
}